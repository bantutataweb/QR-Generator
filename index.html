<!DOCTYPE html>
<html lang="en">
 <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>QR Generator</title>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
 </head>
 <body>
   <div class="container text-center">
      <div class="card mt-5" style="width: 100%;">
        <div class="card-body">
          <h3>Barcode Generator</h3>
          <canvas id="qr-ios"></canvas>
          <br />
          <a  style="display:none" id="btnDownload" class="btn btn-success mb-3" type="submit"><i class="bi bi-cloud-download"></i> Download</a>
          <br />
          <input class="form-control"  class="mb-2" type="text" id="inputQr" />
          <div class="row">
        
            <div class="col-md-12 mt-3">
               <button onclick="create()" type='submit' class="btn btn-primary"><i class="bi bi-pencil-square"></i> Create Qr</button>
            </div>
          </div>
        </div>
      </div>
      Penulis Kode by <a href="https://web.facebook.com/lampungprov.go.id">Geraldine Firdaus</a>
   </div>
 </body>
 
 <script type="text/javascript" charset="utf-8">
   function create(){
     const inputQr = document.getElementById('inputQr').value;
           btnDown = document.getElementById('btnDownload')
       const qr = new QRious({
         element: document.getElementById('qr-ios'),
         value : inputQr, 
         size : 250,
         level: 'H'
       })
       btnDown.removeAttribute('style');
       const image = qr.toDataURL("image/png").replace("image/png", "image/octet-stream");
       btnDown.setAttribute("href", image);
       btnDown.setAttribute('download', inputQr+"_qr.png");
       
   }
   

 </script>
</html>
